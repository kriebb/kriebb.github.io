---
layout: default
---

<div style="height:60px; background:#004c8c; color:white; display:flex; align-items:center; justify-content:center; width:100%;">
    Temporary Header - If you see this, it's a CSS issue
  </div>
<div class="blog-container">
  <header class="blog-header">
    <h1 class="blog-title">{{ page.title }}</h1>
    <p class="blog-subtitle">{{ page.subtitle | default: page.description }}</p>
    
    <!-- Search Box -->
    <div class="search-container">
      <input type="text" id="blog-search" placeholder="{{ site.data.i18n[site.active_lang].blog.search_placeholder | default: 'Search posts...' }}">
    </div>
    
    <!-- Tag Filters -->
    <div class="tag-filters">
      <span class="tag-filter active">All</span>
      {% assign all_tags = site.posts | map: "tags" | flatten | uniq | sort %}
      {% for tag in all_tags limit:8 %}
        <span class="tag-filter">{{ tag }}</span>
      {% endfor %}
    </div>
  </header>
  
  <!-- Debug information -->
  <div class="debug-info" style="display: none;">
    <p>Current language: {{ site.active_lang }}</p>
    <p>Total posts: {{ site.posts.size }}</p>
    <p>Posts in current language: {{ site.posts | where: "lang", site.active_lang | size }}</p>
  </div>
  
  <div class="blog-grid">
    {% comment %}
    First try to get posts filtered by current language.
    If none are found, display all posts (they might not have lang attribute)
    {% endcomment %}
    
    {% assign lang_posts = site.posts | where: "lang", site.active_lang %}
    {% if lang_posts.size > 0 %}
      {% assign posts_to_display = lang_posts %}
    {% else %}
      {% assign posts_to_display = site.posts %}
    {% endif %}
    
    {% for post in posts_to_display %}
    <article class="blog-card">
      <div class="blog-card-image">
        {% if post.cover %}
        <img src="{{ post.cover | relative_url }}" alt="{{ post.title }}">
        {% else %}
        <img src="/assets/images/blog/default-cover.jpg" alt="{{ post.title }}">
        {% endif %}
        <span class="blog-date">{{ post.date | date: "%b %d, %Y" }}</span>
      </div>
      <div class="blog-card-content">
        <h2 class="blog-card-title"><a href="{{ post.url | relative_url }}">{{ post.title }}</a></h2>
        {% if post.tags.size > 0 %}
        <div class="blog-tags">
          {% for tag in post.tags limit:3 %}
          <a href="/tag/{{ tag | slugify }}/" class="blog-tag">#{{ tag }}</a>
          {% endfor %}
        </div>
        {% endif %}
        <div class="blog-card-excerpt">{{ post.excerpt | strip_html | truncatewords: 30 }}</div>
        <a href="{{ post.url | relative_url }}" class="read-more">Read more</a>
      </div>
    </article>
    {% else %}
    <div class="no-posts">
      <p>No posts found. Please check back later.</p>
    </div>
    {% endfor %}
  </div>
</div>