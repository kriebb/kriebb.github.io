<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- Critical CSS for immediate rendering -->
{% include critical-css.html %}

<!-- Dark Mode Flash Prevention - Must be at the top of head -->
<script>
  // Immediately apply saved theme to prevent flash
  (function() {
    document.documentElement.classList.add('no-transitions');
    document.body?.classList.add('no-transitions');
    
    var html = document.documentElement;
    var savedTheme = localStorage.getItem('theme');
    
    // Apply theme immediately
    if (savedTheme === 'dark') {
      html.classList.add('dark-mode');
      if (document.body) document.body.classList.add('dark-mode');
    } else if (savedTheme === 'light') {
      html.classList.remove('dark-mode');
      if (document.body) document.body.classList.remove('dark-mode');
    } else {
      // Check system preference if no saved preference
      var prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      if (prefersDark) {
        html.classList.add('dark-mode');
        if (document.body) document.body.classList.add('dark-mode');
      }
    }
    
    // Remove the no-transitions class after initial render
    setTimeout(function() {
      document.documentElement.classList.remove('no-transitions');
      document.body?.classList.remove('no-transitions');
    }, 300);
  })();
</script>

<title>{% if page.title %}{{ page.title | escape }} - {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}</title>

<!-- SEO Meta Tags -->
<meta name="description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
<meta name="author" content="{{ site.author }}">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="{{ page.url | absolute_url }}">
<meta property="og:title" content="{% if page.title %}{{ page.title | escape }} - {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}">
<meta property="og:description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
<meta property="og:image" content="{{ '/assets/og-image.jpg' | absolute_url }}">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="{{ page.url | absolute_url }}">
<meta name="twitter:title" content="{% if page.title %}{{ page.title | escape }} - {{ site.title | escape }}{% else %}{{ site.title | escape }}{% endif %}">
<meta name="twitter:description" content="{{ page.description | default: site.description | strip_html | normalize_whitespace | truncate: 160 | escape }}">
<meta name="twitter:image" content="{{ '/assets/og-image.jpg' | absolute_url }}">

<!-- Canonical URL -->
<link rel="canonical" href="{{ page.url | replace:'index.html','' | absolute_url }}">

<!-- Preconnect to Google Fonts -->
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">

<!-- Main CSS - Deferred loading -->
<link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}?v={{ site.time | date: '%s' }}" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}?v={{ site.time | date: '%s' }}"></noscript>

<!-- Override CSS -->
<link rel="stylesheet" href="{{ '/assets/css/override.css' | relative_url }}?v={{ site.time | date: '%s' }}" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="{{ '/assets/css/override.css' | relative_url }}?v={{ site.time | date: '%s' }}"></noscript>

<!-- External libraries - Load after critical content -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" media="print" onload="this.media='all'">
<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"></noscript>

<!-- Lazy load non-critical CSS -->
<link rel="stylesheet" href="https://unpkg.com/aos@3.0.0-beta.6/dist/aos.css" media="print" onload="this.media='all'">
<link rel="stylesheet" href="https://unpkg.com/swiper@9.2.4/swiper-bundle.min.css" crossorigin="anonymous" media="print" onload="this.media='all'">

<!-- Preload important images -->
<link rel="preload" as="image" href="/assets/it-kriebbels-logo-full-light.svg">
<link rel="preload" as="image" href="/assets/it-kriebbels-logo-full-dark.svg">
<link rel="preload" as="image" href="/assets/it-kriebbels-logo-min.svg">
<link rel="preload" as="image" href="/assets/it-kriebbels-logo-min-dark.svg">

<!-- Favicons -->
<link rel="icon" href="/assets/favicon-light.svg" media="(prefers-color-scheme: light)" type="image/svg">
<link rel="icon" href="/assets/favicon-dark.svg" media="(prefers-color-scheme: dark)" type="image/svg">

{% seo title=false %}